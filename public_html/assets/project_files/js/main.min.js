import*as functions from"./functions.min.js";document.addEventListener("readystatechange",function(){const s=document.body.scrollWidth;if("complete"==document.readyState){const c={header:document.querySelector(".jsHeader"),footer:document.querySelector(".jsFooter"),main:document.querySelector(".jsMain"),wrap:document.querySelector(".jsSiteWrap"),menu:document.querySelector("#menu"),lazyLoadAttr:"data-msrc",mapBlocks:document.querySelectorAll(".ymBlock"),swiperJSSrc:"assets/project_files/js/swiper-bundle.min.js",fancyboxCSSSrc:"assets/project_files/css/fancybox.css",fancyboxJSSrc:"assets/project_files/js/fancybox.umd.min.js",ymapJSSrc:"https://api-maps.yandex.ru/2.1?apikey=c1084e19-c337-4b9d-bc80-a17aae073595&load=package.full&lang=ru_RU",scrollHideElems:document.querySelectorAll(".jsScrollHide"),sections:document.querySelectorAll(".jsSection"),navLinks:document.querySelectorAll(".nav-link"),sliders:document.querySelectorAll(".swiper"),fancybox:document.querySelectorAll("[data-fancybox]"),togglers:document.querySelectorAll(".jsToggler"),inputFiles:document.querySelectorAll('input[type="file"]'),inputText:document.querySelectorAll(".input-field"),faqs:document.querySelectorAll(".faq-item"),svgImg:document.querySelectorAll(".js-img-svg"),mqLg:window.matchMedia("(min-width: 992px)").matches,fixedMenu:function(e,t,n,o){window.screen.width,document.body.clientWidth;n-window.pageYOffset<=30&&o&&(e.forEach(e=>{e.classList.add("d-none")}),t.classList.add("fixed-menu")),(window.pageYOffset<30||!o)&&(e.forEach(e=>{e.classList.remove("d-none")}),t.classList.remove("fixed-menu"))},hidePlaceholders:function(e){let t=e.closest("div"),n=t.querySelector(".input-error"),o=t.querySelector(".input-label");n.classList.remove("error"),e.classList.remove("error"),e.value?o.classList.add("full"):o.classList.remove("full")}};!function(){if(document.addEventListener("af_complete",function(e){const t=e.detail.status,n=e.detail.response,o=e.detail.form;e.detail.xhr;if(t)o.querySelectorAll(".input-label").forEach(e=>e.classList.remove("full"));else for(var l in console.log(n),n.data){let e=o.querySelector('[name="'+l+'"]');e.value="",e.nextElementSibling.classList.remove("full"),setTimeout(function(){e.blur()},200)}}),c.mapBlocks&&functions.loadScript(c.ymapJSSrc,()=>{functions.initMap(c.mapBlocks)}),c.svgImg.length&&c.svgImg.forEach(t=>{functions.sendAjax(t.src,{},function(e){functions.getImgData(t,e)},"GET","text")}),c.inputText.length&&c.inputText.forEach(e=>{c.hidePlaceholders(e),e.addEventListener("change",()=>{c.hidePlaceholders(e)})}),c.inputFiles.length&&c.inputFiles.forEach(function(e){e.addEventListener("change",functions.fileHandler)}),c.fancybox.length&&functions.loadScript(c.fancyboxJSSrc,()=>{let e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",c.fancyboxCSSSrc),document.head.appendChild(e),Fancybox.bind("[data-fancybox]",{on:{reveal:(e,t)=>{let n=document.querySelector(".fixed-menu");n&&(n.style.marginLeft="-"+(document.body.scrollWidth-s)/2+"px")},destroy:(e,t)=>{let n=document.querySelector(".fixed-menu");n&&(n.style.marginLeft="auto")},done:(e,l)=>{if(l.value){let e=document.querySelector(l.src),t=e.querySelector('input[name="value"]'),n=e.querySelectorAll(".input-field"),o=e.querySelector(".jsValue");n.length&&n.forEach(e=>{c.hidePlaceholders(e),e.addEventListener("change",()=>{c.hidePlaceholders(e)})}),t&&(t.value=l.value),o&&(o.innerText=l.value)}}}})}),c.togglers.length&&c.togglers.forEach(e=>{let t=document.getElementById(e.dataset.target);t&&e.addEventListener("click",()=>{t.classList.toggle("active")})}),c.faqs.length){const i=c.faqs;document.querySelectorAll(".faq-column");i.forEach(function(t){let n=t.querySelector(".answer"),o=Number(window.getComputedStyle(t).paddingBottom.replace("px",""));n.style.bottom=o+"px",t.addEventListener("click",function(e){i.forEach(e=>{e!==t&&(e.classList.remove("active"),e.style.paddingBottom=o+"px")}),t.classList.contains("active")?(t.style.paddingBottom=o+"px",t.classList.remove("active")):(t.style.paddingBottom=n.scrollHeight+2*o+"px",t.classList.add("active"))})})}if(functions.changeContentPadding(c.header,c.footer,c.main,c.wrap,c.sections),window.onresize=function(){c.mqLg=window.matchMedia("(min-width: 992px)").matches,c.menu&&c.fixedMenu(c.scrollHideElems,c.menu.parentNode,c.menu.offsetTop,c.mqLg),functions.changeContentPadding(c.header,c.footer,c.main,c.wrap,c.sections)},c.sliders.length){const e={big:{direction:"horizontal",loop:!0,slidesPerView:1,spaceBetween:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},medium:{direction:"horizontal",loop:!0,slidesPerView:1,spaceBetween:1,lazy:!0,breakpoints:{576:{slidesPerView:2},768:{slidesPerView:3},1200:{slidesPerView:4}},pagination:{el:".swiper-pagination-medium",type:"bullets",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},small:{direction:"horizontal",loop:!0,slidesPerView:1,spaceBetween:1,pagination:{el:".swiper-pagination-small",type:"bullets",clickable:!0}}};functions.loadScript(c.swiperJSSrc,()=>functions.initSliders(c.sliders,e))}var n=document.querySelectorAll('a[href*="#"]');for(let e=0;e<n.length;e++){let t=n[e];-1!=t.getAttribute("href").indexOf("http")||t.getAttribute("data-bs-toggle")||t.addEventListener("click",function(e){e.preventDefault(),setTimeout(function(){functions.scrollIntoView(t)},500)})}let t=document.location.href.match(/#(.*)$/);t&&c.navLinks.forEach(function(e){-1!=t[0].indexOf(e.getAttribute("href"))&&setTimeout(function(){functions.scrollIntoView(e)},1e3)});let o=document.querySelectorAll('input[type="tel"]');for(let e=0;e<o.length;e++)o[e].addEventListener("keydown",functions.phoneMask);let l=document.querySelectorAll('input[name="secret"]');if(l.length)for(let e=0;e<l.length;e++)l[e].value=l[e].dataset.secret;window.addEventListener("scroll",function(){functions.lazyLoad(c.lazyLoadAttr),c.menu&&c.fixedMenu(c.scrollHideElems,c.menu.parentNode.parentNode,c.menu.offsetTop,c.mqLg)}),functions.lazyLoad(c.lazyLoadAttr)}()}});